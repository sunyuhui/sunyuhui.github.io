<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>全面理解JavaScript中数据类型 | 孙宇辉</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/3.0.3/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/2.2.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">全面理解JavaScript中数据类型</h1><a id="logo" href="/.">孙宇辉</a><p class="description">喜欢纯粹，终生学习者</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">全面理解JavaScript中数据类型</h1><div class="post-meta">Oct 10, 2015<script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> Hits</span></span></div><a data-thread-key="2015/10/10/variate-type/" href="/2015/10/10/variate-type/#comments" class="ds-thread-count"></a><div class="post-content"><p>我们都知道JavaScript（ES5）中有6种数据类型：<code>String</code>,<code>Number</code>,<code>Boolean</code>,<code>Object</code>,<code>Null</code>,<code>Undefined</code>。</p>
<p>有时候我们需要检测一个变量是什么类型，这篇文章就全面的讲解的各种检测方法。</p>
<h2 id="检测基本数据类型"><a href="#检测基本数据类型" class="headerlink" title="检测基本数据类型"></a>检测基本数据类型</h2><p>基本数据类型有<code>String</code>,<code>Number</code>,<code>Boolean</code>,<code>Null</code>,<code>Undefined</code>五种，检测基本数据类型时使用<code>typeof</code>来检测。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="string">'sunhui'</span>);		<span class="comment">// string</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="number">123</span>);			<span class="comment">// number</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="literal">true</span>);			<span class="comment">//boolean</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="literal">undefined</span>);	<span class="comment">//undefined</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="literal">null</span>);			<span class="comment">//object</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> &#123;<span class="string">"name"</span>:<span class="string">"sunhui"</span>&#125;);	<span class="comment">// object</span></span><br></pre></td></tr></table></figure>
<p>注意：在检测<code>null</code>的时候<code>typeof</code>返回<code>object</code>，因此我们需要换另外一种方法来检测<code>null</code></p>
<p>简单粗暴：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(obj === <span class="literal">null</span>)</span><br></pre></td></tr></table></figure>
<h2 id="检测引用类型"><a href="#检测引用类型" class="headerlink" title="检测引用类型"></a>检测引用类型</h2><p>在使用<code>typeof</code>来检测对象的时候，返回结果总是<code>object</code>，有时候我们需要确切的知道该对象是哪个构造函数的实例，就需要用到<code>instanceof</code>了。</p>
<p>JavaScript里的构造函数有两种，一种是原生的构造函数<code>Array</code>,<code>Function</code>,<code>Number</code>,<code>Boolean</code>，另一种是自定义的。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//判断数组</span></span><br><span class="line"><span class="keyword">var</span> a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="built_in">console</span>.log(a <span class="keyword">instanceof</span> <span class="built_in">Array</span>);		<span class="comment">// true</span></span><br><span class="line"><span class="comment">//判断函数</span></span><br><span class="line"><span class="keyword">var</span> b = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">"yes"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(b <span class="keyword">instanceof</span> <span class="built_in">Function</span>);	<span class="comment">//true</span></span><br><span class="line"><span class="comment">// 判断布尔值</span></span><br><span class="line"><span class="keyword">var</span> c = <span class="literal">true</span>;</span><br><span class="line"><span class="built_in">console</span>.log(c <span class="keyword">instanceof</span> <span class="built_in">Boolean</span>);	<span class="comment">//false</span></span><br><span class="line"><span class="comment">// 判断数值</span></span><br><span class="line"><span class="keyword">var</span> d = <span class="number">123</span>;</span><br><span class="line"><span class="built_in">console</span>.log(d <span class="keyword">instanceof</span> <span class="built_in">Number</span>);		<span class="comment">//false</span></span><br><span class="line"><span class="comment">//判断自定义构造函数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Man</span>(<span class="params">name</span>)</span>&#123;</span><br><span class="line">	<span class="keyword">this</span>.name = name;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> man = <span class="keyword">new</span> Man(<span class="string">"sunhui"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(man <span class="keyword">instanceof</span> Man);		<span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<p>你应该注意到了，在上述代码中使用<code>instanceof</code>来判断基本数据类型<code>boolean</code>和<code>number</code>的时候，会返回<code>false</code>，这是因为<code>instanceof</code>的作用是<strong>判断一个对象是否属于某种类型</strong>，而基本数据类型不是对象。所以不能使用<code>instanceof</code>方法来判断。</p>
<p>上面已经有了判断变量是否为<code>Array</code>和<code>function</code>的方法。但是这种方法不够安全。主要的问题是当变量在不同的frame之间传递时，各个frame之间同类构造函数并不相等，比如两个frame上的<code>Array</code>构造函数，虽然都是Array构造函数，但两者并不相等。</p>
<p>因此我们需要一种有绝对把握的检测方法。</p>
<p>ECMAScript5提供了<code>isArray()</code>方法来判断变量是否为数组</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Array</span>.isArray(a));		<span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<p>支持<code>isArray</code>的浏览器有：IE 9+，Firefox 4+，Safari 5+，Opera 10.5+，Chrome。<br>检测数组的方法有了，那怎么检测函数呢？其实使用<code>typeof</code>检测函数时，就会返回<code>function</code>，问题是在Safari5-以及Chrom7-中检测正则表达式时也会返回<code>function</code>，因此我们还需要一种准确检测函数的方法。</p>
<h4 id="最强检测方法"><a href="#最强检测方法" class="headerlink" title="最强检测方法"></a>最强检测方法</h4><p>直接上代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params"></span>)</span>&#123;<span class="built_in">console</span>.log(<span class="string">"yes"</span>);&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.prototype.toString.call(a)); <span class="comment">// [object Function]</span></span><br><span class="line"><span class="keyword">var</span> b = <span class="number">123</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.prototype.toString.call(b)); <span class="comment">// [object Number]</span></span><br><span class="line"><span class="keyword">var</span> c = <span class="string">"sunhui"</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.prototype.toString.call(c)); <span class="comment">// [object String]</span></span><br><span class="line"><span class="keyword">var</span> d = <span class="literal">true</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.prototype.toString.call(d)); <span class="comment">// [object Boolean]</span></span><br><span class="line"><span class="keyword">var</span> e = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.prototype.toString.call(e)); <span class="comment">// [object Array]</span></span><br><span class="line"><span class="keyword">var</span> f;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.prototype.toString.call(f)); <span class="comment">// [object Undefined]</span></span><br><span class="line"><span class="keyword">var</span> g = <span class="literal">null</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.prototype.toString.call(g)); <span class="comment">// [object Null]</span></span><br><span class="line"><span class="keyword">var</span> h = &#123;<span class="string">"name"</span>:<span class="string">"sunyuhui"</span>&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.prototype.toString.call(h)); <span class="comment">// [object Object]</span></span><br></pre></td></tr></table></figure>
<p>看到了吗？？简直万能啊。</p>
<p>上述的检测方法是在变量上调用<strong>Object</strong>的<code>toString</code>方法。将返回一个遵循[object NativeConstructorName]格式的字符串。其中<code>NativeConstructorName</code>指的就是变量的构造函数名。</p>
<p>END </p>
</div><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a data-url="https://sunyuhui.com/2015/10/10/variate-type/" data-id="cjat7gfle0019viwszyoofxan" class="article-share-link">分享到</a><div class="tags"><a href="/tags/Front-End/">Front-End</a></div><div class="post-nav"><a href="/2015/12/18/event-in-javascript/" class="pre">JavaScript中的事件处理程序</a><a href="/2015/03/30/fuck/" class="next">GitHub Pages被攻击导致本站点不能访问</a></div><div data-thread-key="2015/10/10/variate-type/" data-title="全面理解JavaScript中数据类型" data-url="https://sunyuhui.com/2015/10/10/variate-type/" class="ds-share flat"><div class="ds-share-inline"><ul class="ds-share-icons-16"><li data-toggle="ds-share-icons-more"><a href="javascript:void(0);" class="ds-more">分享到：</a></li><li><a href="javascript:void(0);" data-service="weibo" class="ds-weibo">微博</a></li><li><a href="javascript:void(0);" data-service="qzone" class="ds-qzone">QQ空间</a></li><li><a href="javascript:void(0);" data-service="qqt" class="ds-qqt">腾讯微博</a></li><li><a href="javascript:void(0);" data-service="wechat" class="ds-wechat">微信</a></li></ul><div class="ds-share-icons-more"></div></div></div><div data-thread-key="2015/10/10/variate-type/" data-title="全面理解JavaScript中数据类型" data-url="https://sunyuhui.com/2015/10/10/variate-type/" data-author-key="1" class="ds-thread"></div></div></div></div><div class="pure-u-1-4"><div id="sidebar"><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/Life/" style="font-size: 15px;">Life</a> <a href="/tags/Work/" style="font-size: 15px;">Work</a> <a href="/tags/Front-End/" style="font-size: 15px;">Front-End</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2017/12/05/2017-year/">2017年终总结</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/20/qrcodepayment-static-optimize/">美团扫码付静态资源加载优化实践</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/04/25-happy-birthday/">25岁生日快乐</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/02/the-first-house/">《年轻人首套房操作指南》笔记整理</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/09/i-need-the-appropriate-people/">人对了，事就对了</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/08/10/how-to-use-v-model-in-component/">v-model 指令在组件中怎么玩？</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/07/18/so-tm-what/">对于那些热点</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/07/06/genius/">《人类群星闪耀时》: 一夜之间的天才</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/05/26/event-loop/">总是一只半解的 Event Loop</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/05/12/how-to-write-component/">从 Toast 到 Pagination：如何优雅的写组件</a></li></ul></div><div class="widget"><div class="comments-title"><i class="fa fa-comment-o"> 最近评论</i></div><div data-num-items="5" data-show-avatars="0" data-show-time="1" data-show-admin="0" data-excerpt-length="32" data-show-title="1" class="ds-recent-comments"></div></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="https://blog.97md.net/" title="Flying-Pig - 赵兴" target="_blank">Flying-Pig - 赵兴</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">© yuhui Sun 2014-2017 All Rights Reserved</div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="/css/jquery.fancybox.css?v=0.0.0"><script>var duoshuoQuery = {short_name:'sunyuhui'};
(function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0]
        || document.getElementsByTagName('body')[0]).appendChild(ds);
})();
</script><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>